/**@file   bsp_sfm3300.h
* @brief   sfm3300传感器驱动
* @author  陈卓哲
* @date    2024/6/25
* @version 1.00.0.0
**************************************************************************************************/

#ifndef BSP_SFM3300_H_
#define BSP_SFM3300_H_

/**************************************************************************************************
*                                      INCLUDE FILES
**************************************************************************************************/

#include "bsp_sys.h"

/**************************************************************************************************
*                                      MACROS DEFINE
**************************************************************************************************/

#define ADDR_SFM3300  (0x40 << 1)
#define SFM3300_DATA_LEN  6     //读取数据长度
#define SFM3300_SCALE   120     //比例因子
#define SFM3300_OFFSET  0x8000  //数据偏移量
#define SFM3300_TEMP_SCALE  200  //温度比例因子

/**************************************************************************************************
*                                      DATA TYPES
**************************************************************************************************/

/**
* @struct sfm3300_id_t 
* @brief  sfm3300id
*/
typedef enum
{
    SFM_NULL,
    SFM_S1,
    SFM_S2,
    SFM_S3,
    SFM_S4,
}sfm3300_id_t;

/**************************************************************************************************
*                                      GLOBAL VARIABLES
**************************************************************************************************/

/**************************************************************************************************
*                                      FUNCTION PROTOTYPES
**************************************************************************************************/

void bsp_sfm3300_start(sfm3300_id_t id);
void bsp_sfm3300_read(sfm3300_id_t id);
float bsp_sfm3300_get_flow(sfm3300_id_t id);
float bsp_sfm3300_get_temp(sfm3300_id_t id);

#endif /* BSP_SFM3300_H_ */
