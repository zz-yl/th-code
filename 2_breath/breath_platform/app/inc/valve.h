/**@file   valve.h
* @brief   valve
* @author  陈卓哲
* @date    2024/7/13
* @section
* -# 
*
* @version 1.00.0.0
**************************************************************************************************/

#ifndef VALVE_H_
#define VALVE_H_

/**************************************************************************************************
*                                      INCLUDE FILES
**************************************************************************************************/

#include "stdint.h"
#include "pid.h"

/**************************************************************************************************
*                                      MACROS DEFINE
**************************************************************************************************/

/**************************************************************************************************
*                                      DATA TYPES
**************************************************************************************************/

/**
* @struct  valve_data_t
* @brief   比例阀控制
*/
typedef struct
{
    float cmd_flow; //流量指令
    float out;      //比例阀输出值0~100%
    float cmp;      //比例阀输出值0~VALVE_MAX
    pid_data_t pid; //pid参数
}valve_data_t;

/**************************************************************************************************
*                                      GLOBAL VARIABLES
**************************************************************************************************/

extern valve_data_t valve_data;

/**************************************************************************************************
*                                      FUNCTION PROTOTYPES
**************************************************************************************************/

void valve_run(void);

#endif /* VALVE_H_ */
