/**@file   bsp_init.c
* @brief   bsp初始化
* @version 1.00.0.0
**************************************************************************************************/

/**************************************************************************************************
*                                      INCLUDE FILES
**************************************************************************************************/

#include "bsp_init.h"
#include "bsp_cfg.h"

/**************************************************************************************************
*                                      MACROS DEFINE
**************************************************************************************************/


/**************************************************************************************************
*                                      DATA TYPES
**************************************************************************************************/


/**************************************************************************************************
*                                      VARIABLES
**************************************************************************************************/


/**************************************************************************************************
*                                      FUNCTION PROTOTYPES
**************************************************************************************************/

/**
* @brief  bsp初始化
* @attention 
*/
void bsp_init(void)
{
    sys_cache_enable();      /* 打开L1-Cache */
    HAL_Init();              /* 初始化HAL库 */
    system_clock_config();   /* 设置时钟, 480Mhz */
    mpu_memory_protection(); /* 保护相关存储区域 */
    bsp_io_init();             //IO初始化
    tim6_init(1000-1, 240-1);  //定时器初始化
    spi1_init();
    spi3_init();
    spi4_init();
    spi6_init();
    
    /* 串口初始化 */
//    qspi_init();
//    uart3_init();
//    uart4_init();
//    uart5_init();
//    uart6_init();
//    uart7_init();
    uart8_init();
    i2c3_init();
    
    tim5_init(500-1, 24-1);  //编码器定时初始化
}
