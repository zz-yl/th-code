/**@file   sys_state_machine.h
* @brief   系统状态机
* @author  陈卓哲
* @date    2023/11/14
* @section
* -# 
*
* @version 1.00.0.0
**************************************************************************************************/

#ifndef SYS_STATE_MACHINE_H_
#define SYS_STATE_MACHINE_H_

/**************************************************************************************************
*                                      INCLUDE FILES
**************************************************************************************************/

#include "stdint.h"

/**************************************************************************************************
*                                      MACROS DEFINE
**************************************************************************************************/

/**
* @enum    sm_sys_state_t 
* @brief   系统状态
*/
typedef enum
{
    SYS_NULL,       //无
    SYS_SELF_CHECK, //自检
    SYS_STANDBY,    //待机
    SYS_CALIBRATE,  //校准
    SYS_ENGINEER,   //工程师
    SYS_TEST,       //待机
}sm_sys_state_t;

/**************************************************************************************************
*                                      DATA TYPES
**************************************************************************************************/

/**
* @enum    sm_sys_port_t 
* @brief   系统状态机接口
*/
typedef struct
{
	sm_sys_state_t cmd;    //状态指令
    sm_sys_state_t state;  //当前状态
}sm_sys_port_t;

/**************************************************************************************************
*                                      GLOBAL VARIABLES
**************************************************************************************************/

/**************************************************************************************************
*                                      FUNCTION PROTOTYPES
**************************************************************************************************/

void sm_sys_init(void);
void sm_sys_run(void);
void sm_sys_toggle(sm_sys_state_t state);
sm_sys_state_t sm_sys_state(void);

#endif /* SYS_STATE_MACHINE_H_ */
