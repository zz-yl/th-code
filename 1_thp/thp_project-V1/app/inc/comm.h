/**@file   comm.h
* @brief   通信模块
* @author  陈卓哲
* @date    2023/9/5
* @section
* -# 
*
* @version 1.00.0.0
**************************************************************************************************/

#ifndef COMM_H_
#define COMM_H_

/**************************************************************************************************
*                                      INCLUDE FILES
**************************************************************************************************/

#include "bsp_cfg.h"
#include "string.h"
#include "queue.h"
#include "comm_protocol.h"

/**************************************************************************************************
*                                      MACROS DEFINE
**************************************************************************************************/

#define QUEUE_SIZE  600  //队列大小

/**************************************************************************************************
*                                      DATA TYPES
**************************************************************************************************/

/**
* @struct  COMM_DATA
* @brief   通信数据
*/
typedef struct
{
	QUEUE_LIST tx;  //发送队列
    QUEUE_LIST rx;  //接收队列
}COMM_DATA;

/**************************************************************************************************
*                                      GLOBAL VARIABLES
**************************************************************************************************/

extern COMM_DATA CommGui;

/**************************************************************************************************
*                                      FUNCTION PROTOTYPES
**************************************************************************************************/

void MotorSpeedCtrl(float speed, uint8_t id);
void CommCtrlMotorPos(float round, float speed, uint8_t id, uint8_t vs);
void CommGetMotorPos(uint8_t id);

void CommTxGui(uint8_t cmd, uint8_t *data, uint8_t len);
void CommRun(void);

#endif /* COMM_H_ */
