/**@file   th_cfg.c
* @brief   
* @version 1.00.0.0
**************************************************************************************************/

/**************************************************************************************************
*                                      INCLUDE FILES
**************************************************************************************************/

#include "th_cfg.h"
#include "./BSP/DAC/dac.h"

/**************************************************************************************************
*                                      MACROS DEFINE
**************************************************************************************************/


/**************************************************************************************************
*                                      DATA TYPES
**************************************************************************************************/


/**************************************************************************************************
*                                      VARIABLES
**************************************************************************************************/

uint32_t test1 = 0;
uint32_t test2 = 0;

/**************************************************************************************************
*                                      FUNCTION PROTOTYPES
**************************************************************************************************/

/**
* @brief 光谱仪项目运行
* @attention 
*/
void th_run(void)
{
    comm_run();
    
    switch(test1)
    {
        case 1: IO_OUT1(test2); break;
        case 2: IO_OUT2(test2); break;
        case 3: IO_OUT3(test2); break;
        case 4: dac_set_voltage(1, test2); break;
        case 5: dac_set_voltage(2, test2); break;
        default: break;
    }
    test1 = 0;
}
/**
* @brief 光谱仪项目初始化
* @attention 
*/
void th_init(void)
{
    bsp_io_init();
    tim6_init(1000-1, 240-1);
}
